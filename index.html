<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="数字民居图库 - 专注神木市及周边村落传统民居普查建档，为窑洞、四合院等建筑建立“一宅一档”云端档案，提供高清影像、工艺细节查询，为修缮保护提供科学依据">
  <meta name="keywords" content="神木市,传统民居,数字图库,一宅一档,窑洞,四合院,村落普查,建筑修缮,云端查询">
  <title>数字民居图库 - 神木市传统民居普查建档平台</title>
  <!-- 引入Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- 引入Font Awesome图标 -->
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <!-- 自定义配置 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#36CFC9',
            heritage: '#8C6139', // 传统色系：棕褐色，适配陕北民居氛围
            shenmu: '#C8102E', // 神木专属色：红色系（贴合地域文化）
            neutral: {
              100: '#F5F7FA',
              200: '#E4E7ED',
              300: '#C0C6CF',
              400: '#909399',
              500: '#606266',
              600: '#303133',
              700: '#1E1E1E',
            }
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
          animation: {
            'fade-in': 'fadeIn 0.5s ease-in-out',
            'slide-up': 'slideUp 0.5s ease-out',
            'modal-fade': 'modalFade 0.3s ease-in-out',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' },
            },
            slideUp: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' },
            },
            modalFade: {
              '0%': { opacity: '0', transform: 'scale(0.95)' },
              '100%': { opacity: '1', transform: 'scale(1)' },
            }
          }
        },
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .card-hover {
        @apply transition-all duration-300 hover:shadow-xl hover:-translate-y-1;
      }
      .btn-primary {
        @apply bg-primary text-white px-6 py-3 rounded-lg transition-all duration-300 hover:bg-primary/90 hover:shadow-lg active:scale-95 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2;
      }
      .btn-outline {
        @apply border border-primary text-primary px-6 py-3 rounded-lg transition-all duration-300 hover:bg-primary/5 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:ring-offset-2;
      }
      .btn-heritage {
        @apply bg-heritage/10 text-heritage border border-heritage/30 px-6 py-3 rounded-lg transition-all duration-300 hover:bg-heritage/20 focus:outline-none focus:ring-2 focus:ring-heritage/30 focus:ring-offset-2;
      }
      .btn-shenmu {
        @apply bg-shenmu/90 text-white px-6 py-3 rounded-lg transition-all duration-300 hover:bg-shenmu active:scale-95 focus:outline-none focus:ring-2 focus:ring-shenmu/50 focus:ring-offset-2;
      }
      .text-balance {
        text-wrap: balance;
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .image-loading {
        @apply bg-neutral-200 animate-pulse;
      }
      .card-shadow {
        @apply shadow-md hover:shadow-xl transition-shadow duration-300;
      }
      .modal-backdrop {
        @apply fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center;
        display: none; /* 强制默认隐藏 */
      }
      .modal-content {
        @apply bg-white rounded-xl w-full max-w-md mx-4 overflow-hidden animate-modal-fade;
      }
    }
  </style>
</head>
<body class="font-inter bg-neutral-100 text-neutral-600 antialiased">
  <!-- 导航栏 -->
  <header id="navbar" class="fixed w-full top-0 z-50 transition-all duration-300 bg-white/95 backdrop-blur-sm shadow-sm">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16 md:h-20">
        <!-- Logo -->
        <a href="index.html" class="flex items-center space-x-2 focus:outline-none" aria-label="数字民居图库首页">
          <i class="fa fa-university text-shenmu text-2xl"></i>
          <span class="text-xl font-bold text-neutral-700">数字民居图库</span>
          <span class="hidden md:inline-block text-xs bg-shenmu/10 text-shenmu px-2 py-1 rounded-full ml-2">神木市专属</span>
        </a>
        
        <!-- 桌面端导航 -->
        <nav class="hidden md:flex items-center space-x-8">
          <a href="index.html" class="font-medium text-primary border-b-2 border-primary px-1 py-2 transition-colors" aria-current="page">首页</a>
          <div class="relative group" role="navigation" aria-label="民居类型">
            <button class="font-medium text-neutral-600 hover:text-primary px-1 py-2 flex items-center focus:outline-none focus:text-primary" aria-expanded="false" aria-haspopup="true">
              民居类型
              <i class="fa fa-chevron-down ml-1 text-xs transition-transform group-hover:rotate-180"></i>
            </button>
            <div class="absolute left-0 mt-2 w-56 bg-white shadow-lg rounded-lg overflow-hidden opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50 animate-fade-in" role="menu">
              <a href="series-single.html?type=yaodong" class="block px-4 py-2 hover:bg-neutral-100 transition-colors" role="menuitem">陕北窑洞（神木特色）</a>
              <a href="series-single.html?type=siheyuan" class="block px-4 py-2 hover:bg-neutral-100 transition-colors" role="menuitem">传统四合院</a>
              <a href="series-single.html?type=gucunluo" class="block px-4 py-2 hover:bg-neutral-100 transition-colors" role="menuitem">古村落集群</a>
              <a href="series-single.html?type=minzu" class="block px-4 py-2 hover:bg-neutral-100 transition-colors" role="menuitem">民族特色民居</a>
            </div>
          </div>
          <div class="relative group" role="navigation" aria-label="核心功能">
            <button class="font-medium text-neutral-600 hover:text-primary px-1 py-2 flex items-center focus:outline-none focus:text-primary" aria-expanded="false" aria-haspopup="true">
              核心功能
              <i class="fa fa-chevron-down ml-1 text-xs transition-transform group-hover:rotate-180"></i>
            </button>
            <div class="absolute left-0 mt-2 w-56 bg-white shadow-lg rounded-lg overflow-hidden opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50 animate-fade-in" role="menu">
              <a href="archive.html" class="block px-4 py-2 hover:bg-neutral-100 transition-colors" role="menuitem">一宅一档查询</a>
              <a href="craft.html" class="block px-4 py-2 hover:bg-neutral-100 transition-colors" role="menuitem">神木民居工艺库</a>
              <a href="repair.html" class="block px-4 py-2 hover:bg-neutral-100 transition-colors" role="menuitem">修缮依据参考</a>
              <a href="village.html" class="block px-4 py-2 hover:bg-neutral-100 transition-colors" role="menuitem">周边村落名录</a>
            </div>
          </div>
          <a href="about.html" class="font-medium text-neutral-600 hover:text-primary px-1 py-2 transition-colors">关于普查</a>
          <!-- 登录按钮（桌面端） -->
          <button id="login-btn-desktop" class="btn-shenmu px-4 py-2 text-sm" aria-label="登录">
            <i class="fa fa-user mr-1"></i> 登录
          </button>
        </nav>
        
        <!-- 搜索、登录和移动端菜单按钮 -->
        <div class="flex items-center space-x-4">
          <!-- 搜索框 -->
          <div class="relative hidden sm:block" role="search">
            <input type="text" id="search-input" placeholder="搜索神木村落、民居名称..." class="w-48 md:w-64 pl-10 pr-4 py-2 rounded-full bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-shenmu/30 transition-all placeholder:text-neutral-400" aria-label="搜索神木传统民居">
            <i class="fa fa-search absolute left-4 top-1/2 -translate-y-1/2 text-neutral-400"></i>
            <!-- 搜索结果下拉框（默认隐藏） -->
            <div id="search-results" class="absolute left-0 right-0 mt-2 bg-white shadow-lg rounded-lg overflow-hidden hidden z-50 max-h-60 overflow-y-auto scrollbar-hide"></div>
          </div>
          <!-- 移动端登录按钮 -->
          <button id="login-btn-mobile" class="md:hidden text-shenmu p-2 rounded-full hover:bg-shenmu/10 transition-colors focus:outline-none focus:ring-2 focus:ring-shenmu/30" aria-label="登录">
            <i class="fa fa-user text-xl"></i>
          </button>
          <!-- 移动端菜单按钮 -->
          <button id="mobile-menu-btn" class="md:hidden text-neutral-600 hover:text-primary p-2 rounded-full hover:bg-neutral-100 transition-colors focus:outline-none focus:ring-2 focus:ring-primary/30" aria-expanded="false" aria-label="菜单">
            <i class="fa fa-bars text-xl"></i>
          </button>
        </div>
      </div>
    </div>
    
    <!-- 移动端导航菜单 -->
    <div id="mobile-menu" class="md:hidden bg-white shadow-lg absolute w-full left-0 top-full transform -translate-y-full opacity-0 invisible transition-all duration-300 animate-fade-in">
      <div class="container mx-auto px-4 py-3 space-y-1">
        <a href="index.html" class="block px-4 py-2 rounded-md bg-primary/10 text-primary font-medium">首页</a>
        <!-- 民居类型下拉 -->
        <div class="py-1">
          <button id="mobile-type-btn" class="flex items-center justify-between w-full px-4 py-2 rounded-md text-neutral-600 hover:bg-neutral-100 font-medium focus:outline-none" aria-expanded="false">
            民居类型
            <i class="fa fa-chevron-down ml-1 text-xs transition-transform"></i>
          </button>
          <div id="mobile-type-menu" class="hidden mt-1 ml-4 space-y-1 animate-fade-in">
            <a href="series-single.html?type=yaodong" class="block px-4 py-2 rounded-md hover:bg-neutral-100">陕北窑洞（神木特色）</a>
            <a href="series-single.html?type=siheyuan" class="block px-4 py-2 rounded-md hover:bg-neutral-100">传统四合院</a>
            <a href="series-single.html?type=gucunluo" class="block px-4 py-2 rounded-md hover:bg-neutral-100">古村落集群</a>
            <a href="series-single.html?type=minzu" class="block px-4 py-2 rounded-md hover:bg-neutral-100">民族特色民居</a>
          </div>
        </div>
        <!-- 核心功能下拉 -->
        <div class="py-1">
          <button id="mobile-function-btn" class="flex items-center justify-between w-full px-4 py-2 rounded-md text-neutral-600 hover:bg-neutral-100 font-medium focus:outline-none" aria-expanded="false">
            核心功能
            <i class="fa fa-chevron-down ml-1 text-xs transition-transform"></i>
          </button>
          <div id="mobile-function-menu" class="hidden mt-1 ml-4 space-y-1 animate-fade-in">
            <a href="archive.html" class="block px-4 py-2 rounded-md hover:bg-neutral-100">一宅一档查询</a>
            <a href="craft.html" class="block px-4 py-2 rounded-md hover:bg-neutral-100">神木民居工艺库</a>
            <a href="repair.html" class="block px-4 py-2 rounded-md hover:bg-neutral-100">修缮依据参考</a>
            <a href="village.html" class="block px-4 py-2 rounded-md hover:bg-neutral-100">周边村落名录</a>
          </div>
        </div>
        <a href="about.html" class="block px-4 py-2 rounded-md hover:bg-neutral-100 font-medium">关于普查</a>
        <!-- 移动端搜索框 -->
        <div class="relative mt-2" role="search">
          <input type="text" placeholder="搜索神木村落、民居名称..." class="w-full pl-10 pr-4 py-2 rounded-full bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-shenmu/30 placeholder:text-neutral-400" aria-label="搜索神木传统民居">
          <i class="fa fa-search absolute left-4 top-1/2 -translate-y-1/2 text-neutral-400"></i>
        </div>
      </div>
    </div>
  </header>

  <!-- 登录模态框（强制默认隐藏，仅手动点击打开） -->
  <div id="login-modal" class="modal-backdrop" aria-hidden="true">
    <div class="modal-content">
      <div class="p-6 border-b border-neutral-200">
        <div class="flex justify-between items-center">
          <h3 class="text-xl font-bold text-neutral-700">用户登录</h3>
          <!-- 关闭按钮（强化交互） -->
          <button id="close-login-modal" class="text-neutral-400 hover:text-shenmu focus:outline-none transition-colors" aria-label="关闭登录框">
            <i class="fa fa-times text-xl"></i>
          </button>
        </div>
      </div>
      <div class="p-6">
        <form id="login-form" class="space-y-4">
          <div>
            <label for="username" class="block text-sm font-medium text-neutral-700 mb-1">用户名/手机号</label>
            <input type="text" id="username" name="username" required class="w-full px-4 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-shenmu/30 focus:border-shenmu transition-all" placeholder="请输入用户名或手机号">
          </div>
          <div>
            <label for="password" class="block text-sm font-medium text-neutral-700 mb-1">密码</label>
            <div class="relative">
              <input type="password" id="password" name="password" required class="w-full px-4 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-shenmu/30 focus:border-shenmu transition-all" placeholder="请输入密码">
              <button type="button" id="toggle-password" class="absolute right-3 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-shenmu focus:outline-none" aria-label="显示/隐藏密码">
                <i class="fa fa-eye-slash"></i>
              </button>
            </div>
          </div>
          <div class="flex justify-between items-center">
            <label class="flex items-center space-x-2 cursor-pointer">
              <input type="checkbox" class="form-checkbox text-shenmu rounded focus:ring-shenmu/30">
              <span class="text-sm text-neutral-600">记住我</span>
            </label>
            <a href="forgot-password.html" class="text-sm text-shenmu hover:underline focus:outline-none focus:underline">忘记密码？</a>
          </div>
          <button type="submit" class="btn-shenmu w-full">
            <i class="fa fa-sign-in mr-1"></i> 立即登录
          </button>
          <div class="text-center text-sm text-neutral-500">
            还没有账号？<a href="register.html" class="text-shenmu hover:underline focus:outline-none focus:underline">立即注册</a>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- 主内容区 -->
  <main class="pt-16 md:pt-20">
    <!-- 英雄区 -->
    <section class="relative h-[60vh] min-h-[450px] overflow-hidden">
      <div class="absolute inset-0 bg-gradient-to-r from-shenmu/90 to-primary/80 z-10"></div>
      <!-- 懒加载图片（神木窑洞主题） -->
      <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="https://picsum.photos/id/164/1920/1080" alt="神木市传统民居普查建档" class="absolute inset-0 w-full h-full object-cover object-center lazy-image image-loading">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-20 h-full flex flex-col justify-center">
        <h1 class="text-[clamp(2rem,5vw,3.5rem)] font-bold text-white leading-tight text-balance max-w-3xl animate-slide-up">
          神木市传统民居数字化普查，<br>守护陕北村落文化根脉
        </h1>
        <p class="text-[clamp(1rem,2vw,1.25rem)] text-white/90 mt-4 max-w-2xl animate-slide-up" style="animation-delay: 0.1s">
          聚焦神木市及周边村落（高家堡、栏杆堡、麟州街道等），为特色窑洞、传统四合院建立“一宅一档”云端档案，记录工艺细节，提供修缮科学依据
        </p>
        <div class="flex flex-col sm:flex-row gap-4 mt-8 animate-slide-up" style="animation-delay: 0.2s">
          <a href="archive.html" class="btn-shenmu w-full sm:w-auto text-center">
            查询神木民居档案
          </a>
          <a href="#functions" class="btn-outline w-full sm:w-auto text-center">
            了解核心功能
          </a>
        </div>
      </div>
      <div class="absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-neutral-100 to-transparent"></div>
    </section>

    <!-- 核心功能区 -->
    <section id="functions" class="py-16 bg-neutral-100">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-neutral-700">核心功能模块</h2>
          <p class="text-neutral-500 mt-3 max-w-2xl mx-auto">以数字化技术赋能神木市传统民居保护，覆盖普查建档、工艺传承、修缮参考全流程</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- 功能1：一宅一档 -->
          <div class="bg-white rounded-xl p-8 card-shadow card-hover">
            <div class="w-16 h-16 bg-shenmu/10 rounded-full flex items-center justify-center mb-6">
              <i class="fa fa-file-text-o text-shenmu text-2xl"></i>
            </div>
            <h3 class="text-xl font-bold text-neutral-700 mb-4">一宅一档 数字化建档</h3>
            <p class="text-neutral-500 mb-6">
              为神木市每座传统民居建立专属数字档案，涵盖高家堡古镇、栏杆堡镇等村落建筑，实现“一栋一码、一宅一档”精准管理。
            </p>
            <ul class="space-y-3 mb-6">
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">基本信息：村落归属、建造年代、使用现状</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">建筑数据：占地面积、结构类型、特色构件</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">地域属性：神木民俗关联、村落文化背景</span>
              </li>
            </ul>
            <a href="archive.html" class="inline-flex items-center text-shenmu font-medium hover:underline">
              查看档案库 <i class="fa fa-arrow-right ml-2"></i>
            </a>
          </div>

          <!-- 功能2：高清影像 -->
          <div class="bg-white rounded-xl p-8 card-shadow card-hover">
            <div class="w-16 h-16 bg-shenmu/10 rounded-full flex items-center justify-center mb-6">
              <i class="fa fa-camera text-shenmu text-2xl"></i>
            </div>
            <h3 class="text-xl font-bold text-neutral-700 mb-4">高清影像 全景记录</h3>
            <p class="text-neutral-500 mb-6">
              实地采集神木特色窑洞、四合院的外观风貌、内部结构、装饰细节，重点记录陕北建筑工艺特色，支持全景浏览与局部放大。
            </p>
            <ul class="space-y-3 mb-6">
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">窑洞特色：土窑、石窑、接口窑工艺细节</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">建筑构件：门窗雕花、梁柱结构、屋顶形制</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">村落环境：民居与周边自然、人文环境</span>
              </li>
            </ul>
            <a href="image-library.html" class="inline-flex items-center text-shenmu font-medium hover:underline">
              浏览影像库 <i class="fa fa-arrow-right ml-2"></i>
            </a>
          </div>

          <!-- 功能3：工艺档案 -->
          <div class="bg-white rounded-xl p-8 card-shadow card-hover">
            <div class="w-16 h-16 bg-shenmu/10 rounded-full flex items-center justify-center mb-6">
              <i class="fa fa-cogs text-shenmu text-2xl"></i>
            </div>
            <h3 class="text-xl font-bold text-neutral-700 mb-4">神木工艺 专项传承</h3>
            <p class="text-neutral-500 mb-6">
              系统记录神木及周边村落传统民居建造工艺，包括陕北窑洞的开挖技艺、四合院的营造技法，整理形成标准化工艺档案。
            </p>
            <ul class="space-y-3 mb-6">
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">窑洞营造：选址、开挖、加固传统工艺</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">材料应用：当地石材、土坯、木材使用技巧</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">装饰工艺：陕北特色门窗、墙面装饰技法</span>
              </li>
            </ul>
            <a href="craft.html" class="inline-flex items-center text-shenmu font-medium hover:underline">
              查看工艺库 <i class="fa fa-arrow-right ml-2"></i>
            </a>
          </div>

          <!-- 功能4：修缮依据 -->
          <div class="bg-white rounded-xl p-8 card-shadow card-hover">
            <div class="w-16 h-16 bg-shenmu/10 rounded-full flex items-center justify-center mb-6">
              <i class="fa fa-wrench text-shenmu text-2xl"></i>
            </div>
            <h3 class="text-xl font-bold text-neutral-700 mb-4">修缮依据 科学参考</h3>
            <p class="text-neutral-500 mb-6">
              基于神木民居现状与地域工艺要求，提供针对性修缮建议，保持“修旧如旧”原则，为当地民居保护工程提供科学依据。
            </p>
            <ul class="space-y-3 mb-6">
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">损坏评估：窑洞坍塌、墙体开裂等问题分析</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">修缮方案：结合神木气候、材料的适配建议</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">工艺传承：传统技法与现代保护技术结合</span>
              </li>
            </ul>
            <a href="repair.html" class="inline-flex items-center text-shenmu font-medium hover:underline">
              查看修缮指南 <i class="fa fa-arrow-right ml-2"></i>
            </a>
          </div>

          <!-- 功能5：村落名录 -->
          <div class="bg-white rounded-xl p-8 card-shadow card-hover">
            <div class="w-16 h-16 bg-shenmu/10 rounded-full flex items-center justify-center mb-6">
              <i class="fa fa-map-marker text-shenmu text-2xl"></i>
            </div>
            <h3 class="text-xl font-bold text-neutral-700 mb-4">周边村落 全景覆盖</h3>
            <p class="text-neutral-500 mb-6">
              全面收录神木市及周边重点村落，包括高家堡古镇、栏杆堡镇、麟州街道、锦界镇等，展示各村落民居特色与文化底蕴。
            </p>
            <ul class="space-y-3 mb-6">
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">村落档案：历史沿革、民居分布、人口状况</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">民居特色：各村镇代表性建筑类型汇总</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">保护现状：各村落民居保护与修缮进展</span>
              </li>
            </ul>
            <a href="village.html" class="inline-flex items-center text-shenmu font-medium hover:underline">
              查看村落名录 <i class="fa fa-arrow-right ml-2"></i>
            </a>
          </div>

          <!-- 功能6：开放查询 -->
          <div class="bg-white rounded-xl p-8 card-shadow card-hover">
            <div class="w-16 h-16 bg-shenmu/10 rounded-full flex items-center justify-center mb-6">
              <i class="fa fa-search text-shenmu text-2xl"></i>
            </div>
            <h3 class="text-xl font-bold text-neutral-700 mb-4">开放查询 共享利用</h3>
            <p class="text-neutral-500 mb-6">
              面向神木市相关单位、研究机构及公众开放查询服务，支持按村落、民居类型、建造年代等多条件检索，促进资源共享。
            </p>
            <ul class="space-y-3 mb-6">
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">多条件检索：按村落、类型、年代精准筛选</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">权限分级：公众浏览与专业用户深度查询</span>
              </li>
              <li class="flex items-start">
                <i class="fa fa-check text-secondary mt-1 mr-2"></i>
                <span class="text-neutral-600 text-sm">数据导出：支持神木民居研究数据规范导出</span>
              </li>
            </ul>
            <a href="search.html" class="inline-flex items-center text-shenmu font-medium hover:underline">
              高级检索 <i class="fa fa-arrow-right ml-2"></i>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- 神木特色民居类型展示 -->
    <section class="py-16 bg-white">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-neutral-700">神木特色民居类型</h2>
          <p class="text-neutral-500 mt-3 max-w-2xl mx-auto">聚焦神木市及周边村落具有代表性的传统民居，系统开展普查建档工作</p>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8">
          <!-- 陕北窑洞（神木特色） -->
          <a href="series-single.html?type=yaodong" class="group relative rounded-xl overflow-hidden card-hover focus:outline-none focus:ring-2 focus:ring-shenmu/30 focus:ring-offset-2" aria-label="陕北窑洞（神木特色）">
            <div class="aspect-[4/3] overflow-hidden">
              <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="https://picsum.photos/id/164/800/600" alt="陕北窑洞（神木特色）" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 lazy-image image-loading">
            </div>
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end">
              <div class="p-6">
                <h3 class="text-xl font-bold text-white">陕北窑洞（神木特色）</h3>
                <p class="text-white/80 mt-1 text-sm">土窑、石窑、接口窑，冬暖夏凉</p>
              </div>
            </div>
            <div class="absolute inset-0 bg-shenmu/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          </a>

          <!-- 传统四合院 -->
          <a href="series-single.html?type=siheyuan" class="group relative rounded-xl overflow-hidden card-hover focus:outline-none focus:ring-2 focus:ring-shenmu/30 focus:ring-offset-2" aria-label="传统四合院">
            <div class="aspect-[4/3] overflow-hidden">
              <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="https://picsum.photos/id/225/800/600" alt="传统四合院" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 lazy-image image-loading">
            </div>
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end">
              <div class="p-6">
                <h3 class="text-xl font-bold text-white">传统四合院</h3>
                <p class="text-white/80 mt-1 text-sm">陕北特色布局，中轴对称</p>
              </div>
            </div>
            <div class="absolute inset-0 bg-shenmu/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          </a>

          <!-- 高家堡古镇民居 -->
          <a href="series-single.html?type=gaojiabao" class="group relative rounded-xl overflow-hidden card-hover focus:outline-none focus:ring-2 focus:ring-shenmu/30 focus:ring-offset-2" aria-label="高家堡古镇民居">
            <div class="aspect-[4/3] overflow-hidden">
              <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="https://picsum.photos/id/283/800/600" alt="高家堡古镇民居" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 lazy-image image-loading">
            </div>
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end">
              <div class="p-6">
                <h3 class="text-xl font-bold text-white">高家堡古镇民居</h3>
                <p class="text-white/80 mt-1 text-sm">明清建筑风貌，保存完整</p>
              </div>
            </div>
            <div class="absolute inset-0 bg-shenmu/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          </a>

          <!-- 乡村传统院落 -->
          <a href="series-single.html?type=xiangcun" class="group relative rounded-xl overflow-hidden card-hover focus:outline-none focus:ring-2 focus:ring-shenmu/30 focus:ring-offset-2" aria-label="乡村传统院落">
            <div class="aspect-[4/3] overflow-hidden">
              <img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="https://picsum.photos/id/177/800/600" alt="乡村传统院落" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 lazy-image image-loading">
            </div>
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end">
              <div class="p-6">
                <h3 class="text-xl font-bold text-white">乡村传统院落</h3>
                <p class="text-white/80 mt-1 text-sm">栏杆堡、锦界镇等村落特色</p>
              </div>
            </div>
            <div class="absolute inset-0 bg-shenmu/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          </a>
        </div>

        <div class="text-center mt-12">
          <a href="series.html" class="btn-shenmu inline-flex items-center">
            查看全部民居类型
            <i class="fa fa-arrow-right ml-2"></i>
          </a>
        </div>
      </div>
    </section>

    <!-- 精准筛选区 -->
    <section class="py-16 bg-neutral-100">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="bg-white rounded-2xl p-8 md:p-12 card-shadow">
          <div class="text-center mb-10">
            <h2 class="text-[clamp(1.5rem,3vw,2.25rem)] font-bold text-neutral-700">精准检索神木民居</h2>
            <p class="text-neutral-500 mt-3 max-w-2xl mx-auto">根据村落、民居类型、年代等多维度条件，快速找到目标档案</p>
          </div>

          <form id="filter-form" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 md:gap-6">
            <div class="bg-neutral-50 rounded-lg p-4">
              <label for="house-type" class="block text-sm font-medium text-neutral-700 mb-2">民居类型</label>
              <select id="house-type" name="house-type" class="w-full px-3 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-shenmu/30 focus:border-shenmu transition-all">
                <option value="">全部类型</option>
                <option value="yaodong">陕北窑洞（神木特色）</option>
                <option value="siheyuan">传统四合院</option>
                <option value="gaojiabao">高家堡古镇民居</option>
                <option value="xiangcun">乡村传统院落</option>
                <option value="minzu">民族特色民居</option>
              </select>
            </div>

            <div class="bg-neutral-50 rounded-lg p-4">
              <label for="village" class="block text-sm font-medium text-neutral-700 mb-2">所属村落</label>
              <select id="village" name="village" class="w-full px-3 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-shenmu/30 focus:border-shenmu transition-all">
                <option value="">全部村落</option>
                <option value="gaojiabao">高家堡古镇</option>
                <option value="langanbao">栏杆堡镇</option>
                <option value="linzhou">麟州街道</option>
                <option value="jinjie">锦界镇</option>
                <option value="other">其他村落</option>
              </select>
            </div>

            <div class="bg-neutral-50 rounded-lg p-4">
              <label for="build-time" class="block text-sm font-medium text-neutral-700 mb-2">建造年代</label>
              <select id="build-time" name="build-time" class="w-full px-3 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-shenmu/30 focus:border-shenmu transition-all">
                <option value="">全部年代</option>
                <option value="qing">清代及以前</option>
                <option value="minguo">民国时期</option>
                <option value="1949-1978">1949-1978年</option>
                <option value="1978-2000">1978-2000年</option>
              </select>
            </div>

            <div class="bg-neutral-50 rounded-lg p-4">
              <label for="protect-level" class="block text-sm font-medium text-neutral-700 mb-2">保护等级</label>
              <select id="protect-level" name="protect-level" class="w-full px-3 py-2 border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-shenmu/30 focus:border-shenmu transition-all">
                <option value="">全部等级</option>
                <option value="national">国家级文物保护单位</option>
                <option value="provincial">省级文物保护单位</option>
                <option value="city">市级文物保护单位</option>
                <option value="county">县级文物保护单位</option>
                <option value="general">一般保护建筑</option>
              </select>
            </div>

            <div class="bg-neutral-50 rounded-lg p-4 flex items-end">
              <button type="submit" class="btn-shenmu w-full">
                <i class="fa fa-search mr-2"></i> 检索档案
              </button>
            </div>
          </form>
        </div>
      </div>
    </section>
  </main>

  <!-- 页脚 -->
  <footer class="bg-neutral-700 text-white pt-16 pb-8">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 md:gap-12 mb-12">
        <div>
          <div class="flex items-center space-x-2 mb-6">
            <i class="fa fa-university text-shenmu text-2xl"></i>
            <span class="text-xl font-bold">数字民居图库</span>
            <span class="hidden md:inline-block text-xs bg-shenmu/30 text-white px-2 py-1 rounded-full ml-2">神木市专属</span>
          </div>
          <p class="text-neutral-300 mb-6">
            专注神木市及周边村落传统民居普查建档与数字化保护，构建“一宅一档”云端图库，为传统民居修缮保护提供科学依据，传承陕北建筑文化。
          </p>
          <div class="flex space-x-4">
            <a href="#" class="w-10 h-10 rounded-full bg-neutral-600 flex items-center justify-center hover:bg-shenmu transition-colors focus:outline-none focus:ring-2 focus:ring-white/30" aria-label="微信">
              <i class="fa fa-weixin"></i>
            </a>
            <a href="#" class="w-10 h-10 rounded-full bg-neutral-600 flex items-center justify-center hover:bg-shenmu transition-colors focus:outline-none focus:ring-2 focus:ring-white/30" aria-label="微博">
              <i class="fa fa-weibo"></i>
            </a>
            <a href="#" class="w-10 h-10 rounded-full bg-neutral-600 flex items-center justify-center hover:bg-shenmu transition-colors focus:outline-none focus:ring-2 focus:ring-white/30" aria-label="联系我们">
              <i class="fa fa-envelope"></i>
            </a>
          </div>
        </div>

        <div>
          <h4 class="text-lg font-bold mb-6">快速导航</h4>
          <ul class="space-y-3">
            <li><a href="index.html" class="text-neutral-300 hover:text-white transition-colors focus:outline-none focus:text-white">首页</a></li>
            <li><a href="archive.html" class="text-neutral-300 hover:text-white transition-colors focus:outline-none focus:text-white">一宅一档查询</a></li>
            <li><a href="craft.html" class="text-neutral-300 hover:text-white transition-colors focus:outline-none focus:text-white">神木民居工艺库</a></li>
            <li><a href="repair.html" class="text-neutral-300 hover:text-white transition-colors focus:outline-none focus:text-white">修缮依据参考</a></li>
            <li><a href="village.html" class="text-neutral-300 hover:text-white transition-colors focus:outline-none focus:text-white">周边村落名录</a></li>
            <li><a href="about.html" class="text-neutral-300 hover:text-white transition-colors focus:outline-none focus:text-white">关于普查</a></li>
          </ul>
        </div>

        <div>
          <h4 class="text-lg font-bold mb-6">神木特色民居</h4>
          <ul class="space-y-3">
            <li><a href="series-single.html?type=yaodong" class="text-neutral-300 hover:text-white transition-colors focus:outline-none focus:text-white">陕北窑洞（神木特色）</a></li>
            <li><a href="series-single.html?type=siheyuan" class="text-neutral-300 hover:text-white transition-colors focus:outline-none focus:text-white">传统四合院</a></li>
            <li><a href="series-single.html?type=gaojiabao" class="text-neutral-300 hover:text-white transition-colors focus:outline-none focus:text-white">高家堡古镇民居</a></li>
            <li><a href="series-single.html?type=xiangcun" class="text-neutral-300 hover:text-white transition-colors focus:outline-none focus:text-white">乡村传统院落</a></li>
            <li><a href="series-single.html?type=minzu" class="text-neutral-300 hover:text-white transition-colors focus:outline-none focus:text-white">民族特色民居</a></li>
            <li><a href="series.html" class="text-neutral-300 hover:text-white transition-colors focus:outline-none focus:text-white">全部类型</a></li>
          </ul>
        </div>

        <div>
          <h4 class="text-lg font-bold mb-6">联系我们</h4>
          <ul class="space-y-3">
            <li class="flex items-start">
              <i class="fa fa-map-marker text-shenmu mt-1 mr-3"></i>
              <span class="text-neutral-300">神木市相关办公区域</span>
            </li>
            <li class="flex items-center">
              <i class="fa fa-phone text-shenmu mr-3"></i>
              <span class="text-neutral-300">0912-XXXXXXX</span>
            </li>
            <li class="flex items-center">
              <i class="fa fa-envelope text-shenmu mr-3"></i>
              <span class="text-neutral-300">shenmu@shuzimingju.com</span>
            </li>
            <li class="flex items-center">
              <i class="fa fa-clock-o text-shenmu mr-3"></i>
              <span class="text-neutral-300">周一至周五 9:00-17:30</span>
            </li>
            <li class="flex items-center">
              <i class="fa fa-question-circle text-shenmu mr-3"></i>
              <a href="#" class="text-neutral-300 hover:text-white transition-colors">常见问题</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="border-t border-neutral-600 pt-8">
        <div class="flex flex-col md:flex-row justify-between items-center">
          <p class="text-neutral-400 text-sm">© 2025 数字民居图库（神木市专属） 版权所有 | 陕ICP备12345678号</p>
          <div class="flex space-x-6 mt-4 md:mt-0">
            <a href="#" class="text-neutral-400 text-sm hover:text-neutral-300 transition-colors focus:outline-none focus:text-neutral-300">隐私政策</a>
            <a href="#" class="text-neutral-400 text-sm hover:text-neutral-300 transition-colors focus:outline-none focus:text-neutral-300">使用条款</a>
            <a href="#" class="text-neutral-400 text-sm hover:text-neutral-300 transition-colors focus:outline-none focus:text-neutral-300">网站地图</a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- 回到顶部按钮 -->
  <button id="back-to-top" class="fixed bottom-8 right-8 bg-shenmu text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg opacity-0 invisible transition-all duration-300 z-50 focus:outline-none focus:ring-2 focus:ring-white/30" aria-label="回到顶部">
    <i class="fa fa-chevron-up"></i>
  </button>

  <!-- JavaScript -->
  <script>
    // 等待DOM完全加载完成后再执行所有脚本
    document.addEventListener('DOMContentLoaded', function() {
      // 导航栏滚动效果
      const navbar = document.getElementById('navbar');
      const backToTop = document.getElementById('back-to-top');
      
      // 监听滚动事件（节流优化）
      window.addEventListener('scroll', throttle(function() {
        if (window.scrollY > 100) {
          navbar.classList.add('shadow-md');
          navbar.classList.remove('shadow-sm');
          
          backToTop.classList.remove('opacity-0', 'invisible');
          backToTop.classList.add('opacity-100', 'visible');
        } else {
          navbar.classList.remove('shadow-md');
          navbar.classList.add('shadow-sm');
          
          backToTop.classList.add('opacity-0', 'invisible');
          backToTop.classList.remove('opacity-100', 'visible');
        }
      }, 100));
      
      // 移动端菜单切换
      const mobileMenuBtn = document.getElementById('mobile-menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      const mobileTypeBtn = document.getElementById('mobile-type-btn');
      const mobileTypeMenu = document.getElementById('mobile-type-menu');
      const mobileFunctionBtn = document.getElementById('mobile-function-btn');
      const mobileFunctionMenu = document.getElementById('mobile-function-menu');
      
      mobileMenuBtn.addEventListener('click', function() {
        const isExpanded = mobileMenuBtn.getAttribute('aria-expanded') === 'true';
        mobileMenuBtn.setAttribute('aria-expanded', !isExpanded);
        
        if (isExpanded) {
          mobileMenu.classList.add('-translate-y-full', 'opacity-0', 'invisible');
          mobileMenu.classList.remove('translate-y-0', 'opacity-100', 'visible');
          mobileMenuBtn.innerHTML = '<i class="fa fa-bars text-xl"></i>';
        } else {
          mobileMenu.classList.remove('-translate-y-full', 'opacity-0', 'invisible');
          mobileMenu.classList.add('translate-y-0', 'opacity-100', 'visible');
          mobileMenuBtn.innerHTML = '<i class="fa fa-times text-xl"></i>';
        }
      });
      
      // 移动端民居类型下拉
      mobileTypeBtn.addEventListener('click', function() {
        const isExpanded = mobileTypeBtn.getAttribute('aria-expanded') === 'true';
        mobileTypeBtn.setAttribute('aria-expanded', !isExpanded);
        
        mobileTypeMenu.classList.toggle('hidden');
        const icon = mobileTypeBtn.querySelector('i');
        icon.classList.toggle('rotate-180');
      });
      
      // 移动端核心功能下拉
      mobileFunctionBtn.addEventListener('click', function() {
        const isExpanded = mobileFunctionBtn.getAttribute('aria-expanded') === 'true';
        mobileFunctionBtn.setAttribute('aria-expanded', !isExpanded);
        
        mobileFunctionMenu.classList.toggle('hidden');
        const icon = mobileFunctionBtn.querySelector('i');
        icon.classList.toggle('rotate-180');
      });
      
      // 回到顶部功能
      backToTop.addEventListener('click', function() {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
      
      // 平滑滚动
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          
          const targetId = this.getAttribute('href');
          if (targetId === '#') return;
          
          const targetElement = document.querySelector(targetId);
          if (targetElement) {
            const navbarHeight = navbar.offsetHeight;
            const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - navbarHeight;
            
            window.scrollTo({
              top: targetPosition,
              behavior: 'smooth'
            });
            
            // 关闭移动端菜单
            if (mobileMenuBtn.getAttribute('aria-expanded') === 'true') {
              mobileMenu.classList.add('-translate-y-full', 'opacity-0', 'invisible');
              mobileMenu.classList.remove('translate-y-0', 'opacity-100', 'visible');
              mobileMenuBtn.innerHTML = '<i class="fa fa-bars text-xl"></i>';
              mobileMenuBtn.setAttribute('aria-expanded', 'false');
            }
          }
        });
      });
      
      // 图片懒加载
      const lazyImages = document.querySelectorAll('.lazy-image');
      
      if ('IntersectionObserver' in window) {
        const imageObserver = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const image = entry.target;
              image.src = image.dataset.src;
              image.classList.remove('image-loading');
              imageObserver.unobserve(image);
            }
          });
        });
        
        lazyImages.forEach(image => {
          imageObserver.observe(image);
        });
      } else {
        // 降级处理：不支持IntersectionObserver的浏览器
        lazyImages.forEach(image => {
          image.src = image.dataset.src;
          image.classList.remove('image-loading');
        });
      }
      
      // 搜索功能
      const searchInput = document.getElementById('search-input');
      const searchResults = document.getElementById('search-results');
      
      if (searchInput && searchResults) {
        // 模拟神木民居搜索数据
        const searchData = [
          { text: "高家堡古镇 窑洞民居", url: "house-detail.html?id=201" },
          { text: "栏杆堡镇 传统四合院", url: "house-detail.html?id=202" },
          { text: "麟州街道 乡村院落", url: "house-detail.html?id=203" },
          { text: "锦界镇 石窑民居", url: "house-detail.html?id=204" },
          { text: "神木市 清代民居", url: "series.html?build-time=qing&village=shenmu" },
          { text: "陕北窑洞 建造工艺", url: "craft.html?type=yaodong" },
          { text: "高家堡古镇 修缮依据", url: "repair.html?village=gaojiabao" }
        ];
        
        searchInput.addEventListener('input', function() {
          const query = this.value.trim().toLowerCase();
          
          if (query.length < 2) {
            searchResults.classList.add('hidden');
            return;
          }
          
          // 过滤搜索结果
          const results = searchData.filter(item => 
            item.text.toLowerCase().includes(query)
          );
          
          if (results.length > 0) {
            let html = '';
            results.forEach(item => {
              html += `<a href="${item.url}" class="block px-4 py-2 hover:bg-neutral-100 transition-colors">${item.text}</a>`;
            });
            searchResults.innerHTML = html;
            searchResults.classList.remove('hidden');
          } else {
            searchResults.innerHTML = '<div class="px-4 py-2 text-neutral-500">暂无相关神木民居档案</div>';
            searchResults.classList.remove('hidden');
          }
        });
        
        // 点击页面其他地方关闭搜索结果
        document.addEventListener('click', function(e) {
          if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
            searchResults.classList.add('hidden');
          }
        });
      }
      
      // 筛选表单提交
      const filterForm = document.getElementById('filter-form');
      if (filterForm) {
        filterForm.addEventListener('submit', function(e) {
          e.preventDefault();
          
          // 获取表单数据
          const formData = new FormData(this);
          const params = new URLSearchParams();
          
          formData.forEach((value, key) => {
            if (value) {
              params.append(key, value);
            }
          });
          
          // 跳转到筛选结果页
          window.location.href = `search-results.html?${params.toString()}`;
        });
      }
      
      // ===================== 登录模态框核心修复 =====================
      // 关键：所有登录相关逻辑单独隔离，确保无自动触发
      const loginModal = document.getElementById('login-modal');
      const loginBtnDesktop = document.getElementById('login-btn-desktop');
      const loginBtnMobile = document.getElementById('login-btn-mobile');
      const closeLoginModal = document.getElementById('close-login-modal');
      const togglePassword = document.getElementById('toggle-password');
      const passwordInput = document.getElementById('password');
      const loginForm = document.getElementById('login-form');
      
      // 打开登录模态框（仅通过手动点击登录按钮触发，无其他触发途径）
      function openLoginModal() {
        loginModal.style.display = 'flex'; // 直接控制display属性，优先级最高
        loginModal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
        document.getElementById('username').focus();
      }
      
      // 关闭登录模态框（强制隐藏，确保所有场景下生效）
      function closeLoginModalFunc() {
        loginModal.style.display = 'none'; // 强制隐藏，不受其他样式影响
        loginModal.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
        // 重置表单，避免残留输入
        loginForm.reset();
        // 重置密码显示状态
        passwordInput.setAttribute('type', 'password');
        togglePassword.querySelector('i').classList = 'fa fa-eye-slash';
      }
      
      // 仅绑定登录按钮点击事件（无任何自动调用openLoginModal的代码）
      loginBtnDesktop.addEventListener('click', function(e) {
        e.stopPropagation(); // 阻止事件冒泡，避免误触发
        openLoginModal();
      });
      
      loginBtnMobile.addEventListener('click', function(e) {
        e.stopPropagation(); // 阻止事件冒泡，避免误触发
        openLoginModal();
      });
      
      // 关闭按钮点击事件（强化绑定）
      closeLoginModal.addEventListener('click', function(e) {
        e.stopPropagation();
        closeLoginModalFunc();
      });
      
      // 点击模态框背景关闭（强化逻辑）
      loginModal.addEventListener('click', function(e) {
        if (e.target === loginModal) {
          closeLoginModalFunc();
        }
      });
      
      // ESC键关闭（强化监听）
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && loginModal.style.display === 'flex') {
          closeLoginModalFunc();
        }
      });
      
      // 显示/隐藏密码功能
      togglePassword.addEventListener('click', function(e) {
        e.stopPropagation();
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);
        const icon = togglePassword.querySelector('i');
        icon.classList = type === 'text' ? 'fa fa-eye' : 'fa fa-eye-slash';
      });
      
      // 登录表单提交（仅模拟，不影响关闭功能）
      loginForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const username = document.getElementById('username').value;
        const password = passwordInput.value;
        
        if (username && password) {
          alert('登录成功！欢迎使用神木市数字民居图库');
          closeLoginModalFunc(); // 登录成功后强制关闭
        } else {
          alert('请输入完整的用户名和密码');
        }
      });
      
      // 初始化：确保登录模态框默认隐藏（双重保险）
      closeLoginModalFunc();
    });
    
    // 节流函数：优化滚动事件性能
    function throttle(func, delay) {
      let lastTime = 0;
      return function(...args) {
        const now = Date.now();
        if (now - lastTime >= delay) {
          lastTime = now;
          func.apply(this, args);
        }
      };
    }
  </script>
</body>
</html>
